<!DOCTYPE html>
<html>
	<head>
			<!-- the leaflet CSS and JS library-->
  		<!-- the leaflet CSS and JS library-->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css">
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
	<!-- the Omnivore plugin to convert KML to GeoJSON -->
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js'></script>
	

	<style >
		
				
			#fullextent {
				margin: 0 auto;
				background-color: #fff;
				color: #000;
				font-size: 12px;
				padding: 0.5em;
				cursor: pointer;
				position: absolute;
				left: 61em;
				top: 3em;
			}
			#fullextent:hover {
				background-color: #000;
				color: #fff;
			}
</style>
	</head>

	<body>
		<!-- the div for the map -->
		<div id='map' style='width: 800px; height: 550px;'></div>
		<div id='fullextent' style="z-index: 2000">Full Extent</div>
		<!-- the script for my Leaflet Map -->
 		<script>
			var map = L.map('map').setView([37.77, -118.78], 6)

				// Basemap from http://maps.stamen.com/toner/
					L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
  						minZoom: 3,
  						maxZoom: 20,
  						attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>'
					}).addTo(map)

				//add the KML Layer using Omnivore
					var runLayer = omnivore.kml('https://cors-anywhere.herokuapp.com/https://rmgsc.cr.usgs.gov/outgoing/GeoMAC/current_year_fire_data/KMLS/ActiveFirePerimeters.kml')
		    			.on('ready', function() {
		       				map.fitBounds(runLayer.getBounds());

					runLayer.eachLayer(function(layer) {
            	
            	// Description pop up thanks to https://www.mapbox.com/mapbox.js/example/v1.0.0/omnivore-kml-tooltip/
            		layer.bindPopup(layer.feature.properties.name);
        				});
   	 				})
    				.addTo(map);

    			//full extent button
					var fullextent = document.getElementById('fullextent');
							fullextent.addEventListener("click", function(){
							map.setCenter([37.77, -118.78]);
							map.setZoom(6);
							
					});
				
				</script>
	</body>
</html>

